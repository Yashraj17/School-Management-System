
<div class="container-fluid ps-0">
    <div class="row w-100 p-0">
        <div class="col-2" id="side" style="height:91vh;">
            <%- include('../side') %>
        </div>
        <div class="col-10">
          <div class="row mb-3">
            <div class="col-6">
              <h4 class="mt-3 border-start border-4 px-2">Manage Staff </h4>
            </div>
            
            <div class="col-6">
              <div class="btn-group float-end" role="group" aria-label="Basic example">
                <a href="" class="btn btn-primary float-end mt-3"  data-bs-toggle="modal" data-bs-target="#exampleModal">Add Staff</a>
                <a href="/admin/managePayment" class="btn btn-warning text-white float-end mt-3">Payment</a>
              </div>
           </div>
         </div>

            <table id="user" class="table mt-4">
                <thead class="table-dark">
                  <tr>
                      <th>Name</th>
                      <th>Contact</th>
                      <th>Date of Join</th>
                      <th>Gender</th>
                      <th>Address</th>
                      <th>Job</th>
                      <th>status</th>
                      <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                
                  <% data.forEach(data => { %>
                    <tr>
                        <td><%-data.name %></td>
                        <!-- <td>
                          <img src="/<%-data.image %>" alt="" style="height: 60px;width: 60px;">
                            </td> -->
                        <td><%-data.contact %></td>
                        <td><%-data.doj %></td>
                        <td><%-data.gender%></td>
                        <td><%-data.address%></td>
                        <td><%-data.job%></td>
                        <td>
                          <a href= "/admin/approve-patient/<%= data._id%> " class="badge bg-success text-decoration-none">Active</i></a>
                        </td>
                        <td>
                          <a   onclick="myFunction()" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></i></a>
                        </td>
                    </tr>
                    <% }) %>
                </tbody>
              </table>
        </div>
    </div>
  </div>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Staff</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form action="" method="post">
          <div class="mb-3">
            <label for="name">Name</label>
            <input type="text" name="name" value="" id="name" class="form-control rounded shadow-sm">
        </div>
        <div class="mb-3">
          <label for="contact">Contact</label>
          <input type="number" name="contact" value="" id="contact" class="form-control rounded shadow-sm">
      </div>
      <div class="mb-3 row">
        <div class="col">
          <label for="education">Gender</label>
        <select name="gender" id="gender" class="form-select">
            <option value="" selected hidden disabled></option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
        </select>
        </div>
        <div class="col">
          <label for="education">Job</label>
          <select name="job"  class="form-select">
              <option value="" selected hidden disabled></option>
              <option value="type 1">type 1</option>
              <option value="type 2">type 2</option>
              <option value="type 3">type 3</option>
              <option value="type 4">type 4</option>
          </select>
      </div>
      </div>
      <div class="mb-3">
        <label for="address">Address</label>
        <textarea name="address" id="address" class="form-control"></textarea>
    </div>
    <div class="modal-footer">
      <input type="submit" class="btn btn-primary w-100" value="Create">
    </div>
        </form>
      </div>
      
    </div>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('#user').DataTable();
} );

//////////////////this is for sweet message///////

function myFunction() {
//   Swal.fire(
//   'Good job!',
//   'You clicked the button!',
//   'success'
// )
const Toast = Swal.mixin({
  toast: true,
  position: 'top-end',
  showConfirmButton: false,
  timer: 3000,
  timerProgressBar: true,
  didOpen: (toast) => {
    toast.addEventListener('mouseenter', Swal.stopTimer)
    toast.addEventListener('mouseleave', Swal.resumeTimer)
  }
})

Toast.fire({
  icon: 'error',
  title: 'Signed in successfully'
})
  }

</script>
